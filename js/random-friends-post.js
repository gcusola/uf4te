function base64Encode(o){const t=(new TextEncoder).encode(o);let n="";return t.forEach((o=>{n+=String.fromCharCode(o)})),window.btoa(n)}var fdata={apiurl:"https://friends.uf4te.cn/",defaultFish:500,hungryFish:500};if("undefined"!=typeof fdataUser)for(var key in fdataUser)fdataUser[key]&&(fdata[key]=fdataUser[key]);var randomPostTimes=0,randomPostWorking=!1,randomPostTips=["找到一本天书，上面记录了一篇绝世好文！","在河边打了个喷嚏，吓跑了","你和小伙伴抢夺着","你击败了巨龙，在巢穴中发现了","挖掘秦始皇坟时找到了","在路边闲逛的时候随手买了一个","从学校班主任那拿来了孩子上课偷偷看的","你的同桌无情的从你的语文书中撕下了那篇你最喜欢的","考古学家近日发现了","外星人降临地球学习地球文化，落地时被你塞了","从图书馆顶层的隐秘角落里发现了闪着金光的","徒弟修炼走火入魔，为师立刻掏出了","在大山中唱山歌，隔壁的阿妹跑来了，带着","隔壁家的孩子数学考了满分，都是因为看了","隔壁家的孩子英语考了满分，都是因为看了","小米研发了全新一代MIX手机，据说灵感","修炼渡劫成功，还好提前看了","库克坐上了苹果 CEO 的宝座，因为他面试的时候看了","阿里巴巴大喊芝麻开门，映入眼帘的就是","师傅说练武要先炼心，然后让我好生研读","科考队在南极大陆发现了被冰封的","飞机窗户似乎被一张纸糊上了，仔细一看是","历史上满写的仁义道德四个字，透过字缝里却全是","十几年前的录音机似乎还能够使用，插上电发现正在播的是","新版语文书拟增加一篇熟读并背诵的","经调查，99% 的受访者都没有背诵过","今年的高考满分作文是","唐僧揭开了佛祖压在五指山上的","科学家发现能够解决衰老的秘密，就是每日研读","英特尔发布了全新的至强处理器，其芯片的制造原理都是","新的 iPhone 产能很足，新的进货渠道是","今年亩产突破了八千万斤，多亏了","陆隐一统天上宗，在无数祖境高手的目光下宣读了","黑钻风跟白钻风说道，吃了唐僧肉能长生不老，他知道是因为看了","上卫生间没带纸，直接提裤跑路也不愿意玷污手中","种下一篇文章就会产生很多很多文章，我种下了","三十年河东，三十年河西，莫欺我没有看过","踏破铁血无觅处，得来全靠","今日双色球中了两千万，预测全靠","因为卷子上没写名字，老师罚抄","为了抗议世间的不公，割破手指写下了","在艺术大街上被贴满了相同的纸，走近一看是","这区区迷阵岂能难得住我？其实能走出来多亏了","今日被一篇文章顶上了微博热搜，它是","你送给乞丐一个暴富秘籍，它是","UZI 一个走 A 拿下五杀，在事后采访时说他当时回想起了","科学家解刨了第一个感染丧尸病毒的人，发现丧尸抗体存在于"],randomPostClick=0;function fetchRandomPost(){if(0==randomPostWorking){randomPostWorking=!0;let o=360*randomPostTimes,t=randomPostTips[Math.floor(Math.random()*randomPostTips.length)],n="";n=randomPostTimes>1e4?"读书破万卷":randomPostTimes>1e3?"俯览天下":randomPostTimes>1e3?"超越神了":randomPostTimes>100?"绝世读者":randomPostTimes>75?"阅读王者":randomPostTimes>50?"阅读宗师":randomPostTimes>20?"阅读专家":randomPostTimes>5?"阅读高手":"阅读新手",randomPostTimes>=5?document.getElementById("random-post")&&(document.getElementById("random-post").innerHTML="正在为你推荐... （Lv."+randomPostTimes+" 当前称号："+n+"）"):document.getElementById("random-post")&&(document.getElementById("random-post").innerHTML="正在为你推荐..."),$(".random-post-start").css("transform","rotate("+o+"deg)"),window.setTimeout((function(){if(randomPostClick*fdata.hungryFish+fdata.defaultFish<randomPostTimes&&0==Math.round(Math.random()))document.getElementById("random-post")&&(document.getElementById("random-post").innerHTML="因为只推荐文章但从来不看，过分饥饿导致本次推荐失败...",randomPostWorking=!1);else{var o=fdata.apiurl+"randompost";fetch(o).then((o=>o.json())).then((o=>{var n=o.title,e=o.link,r=o.author;document.querySelector("#random-post")&&document.getElementById("random-post")&&(document.getElementById("random-post").innerHTML=t+'来自友链&nbsp;<a target="_blank" href="'+base64Encode(extractDomainFromUrl(e))+'" rel="external nofollow" title="访问文章作者的主页"><font style=\'font-weight: bold\'>'+r+'</font></a>&nbsp;的文章：<a class="random-friends-post" onclick="randomClickLink()" target="_blank" href="'+base64Encode(e)+'" rel="external nofollow" title="前往查看这篇文章">'+n+"</a>")})),randomPostWorking=!1}randomPostTimes+=1}),2e3)}}function randomClickLink(){randomPostClick+=1}function extractDomainFromUrl(o){for(var t=-1,n=0,e=0;n<o.length;n++)if("/"===o[n]&&3===++e){t=n;break}return-1!==t?o.substring(0,t):o}fetchRandomPost();