const fetchCommentTotal=function(){fetch("https://waline.uf4te.cn/api/comment?type=count").then((t=>t.json())).then((t=>{if(0===t.errno){const e={total:t.data,timestamp:Date.now()};localStorage.setItem("waline_comment_sum",JSON.stringify(e));document.querySelectorAll(".length-num.comment-total").forEach((e=>{e.innerText=t.data}))}else console.error("Error fetching comment total:",t.errmsg)})).catch((t=>{console.error("Error fetching comment total:",t)}))},updateCommentTotal=function(){const t=localStorage.getItem("waline_comment_sum");if(t){const e=JSON.parse(t);if(Date.now()-e.timestamp<6e5){return void document.querySelectorAll(".length-num.comment-total").forEach((t=>{t.innerText=e.total}))}}fetchCommentTotal()},initializeCommentTotal=function(){updateCommentTotal(),setInterval(fetchCommentTotal,6e5)};window.addEventListener("load",initializeCommentTotal),document.addEventListener("pjax:complete",initializeCommentTotal);